<aside class="nav">
  <nav>
    <ul>
      <li>
        <strong>Theseus<% if Rails.env.development? %> (dev)<% end %></strong>
      </li>
      <li>
        <% if current_user %>
          <%= render "shared/user_mention", user: current_user %>
        <% end %>
        <small>
          <%= Flavor.greeting name: current_user&.username %>
        </small>
      </li>
      <li>
      <%= button_to "log out", signout_path, {method: :delete, class: "btn btn-sm btn-secondary"} %>
      </li>
    </ul>



    <hr />

    <ul>
      <%= nav_item(root_path, "Home") %>
      <%= nav_item(batches_path, "Batches") %>

      <li>
        <details>
          <summary>Warehouse</summary>
          <ul>
            <%= nav_item(warehouse_skus_path, "SKUs") %>
            <%= nav_item(warehouse_orders_path, "Orders") %>
            <%= nav_item(warehouse_templates_path, "Order templates") %>
          </ul>
        </details>
      </li>
      
      <li>
        <details>
          <summary>Mail</summary>
          <ul>
            <%= nav_item(letters_path, "Letters") %>
            <%= nav_item(return_addresses_path, "Return Addresses") %>
          </ul>
        </details>
      </li>
      
      <% admin_tool do %>
        <li>
          <details>
            <summary>Admin</summary>
            <ul>
              <%= nav_item(good_job_path, "good job, #{current_user.username}!") %>
              <%= nav_item(admin_root_path, "admin panel?") %>
              <%= nav_item(blazer_path, "blaze it") %>
            </ul>
          </details>
        </li>
      <% end %>
      
      <% dev_tool do %>
        <li>
          <details>
            <summary>Developer Tools</summary>
            <ul>
              <%= nav_item(letter_opener_web_path, "mail (not the real kind)", target: "_blank") %>
            </ul>
          </details>
        </li>
      <% end %>
    </ul>
  </nav>
</aside>

<button class="nav-toggle" aria-label="Toggle navigation">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const navToggle = document.querySelector('.nav-toggle');
    const nav = document.querySelector('.nav');
    
    if (navToggle && nav) {
      navToggle.addEventListener('click', function() {
        nav.classList.toggle('active');
      });
    }
  });
</script> 